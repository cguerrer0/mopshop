<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:rich="http://richfaces.org/rich">

<body>
	<ui:composition template="/pages/template/layout.xhtml">
		<ui:define name="content">
			<br></br>
			<h:form>
				<rich:panel styleClass="rich-panel">
					<f:facet name="header">
						<h:outputText value="#{i18n['product.list']}" />
					</f:facet>
					<h3>
						<h:outputText value="#{catalogBean.currentFamily.name}" rendered="#{catalogBean.currentFamily != null}" />
					</h3>
					<h2>
						<h:outputText value="#{i18n['product.any_product_to_show']}" rendered="#{empty catalogBean.products}" />
					</h2>

					<rich:dataTable value="#{catalogBean.products}" var="product" rendered="#{not empty catalogBean.products}" style="aling:center;">

						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{i18n['product.description']}" />
							</f:facet>
							<h:commandLink action="#{catalogBean.doGetCurrentProduct(product.id)}" value="#{product.description}"></h:commandLink>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{i18n['product.brand']}" />
							</f:facet>
							<h:outputText value="#{product.brand}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{i18n['product.model']}" />
							</f:facet>
							<h:outputText value="#{product.model}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{i18n['product.price']}" />
							</f:facet>
							<h:outputText value="#{product.price}" />
						</rich:column>
						<rich:column>
							<h:commandLink action="#{shoppingCartBean.doAddProduct(product.id)}" value="#{i18n['product.add_shopping_cart']}" />
						</rich:column>
					</rich:dataTable>

				</rich:panel>
			</h:form>
		</ui:define>

	</ui:composition>

</body>
</html>
